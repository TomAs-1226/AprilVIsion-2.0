# FRC Vision Coprocessor Configuration
# FRC 2026 Season - Orange Pi 5 (RK3588S)

# ==============================================================================
# Camera Configuration
# ==============================================================================
# NOTE: Each USB camera typically creates 2 /dev/video devices.
# Use video0, video2, video4 for 3 cameras (skip the odd numbers)
cameras:
  - name: front
    device: /dev/video0
    width: 640
    height: 480
    fps: 60                  # 60fps for highest performance
    exposure: -1            # -1 = auto exposure
    gain: -1                # -1 = auto
    format: MJPG
    intrinsics: cam0_intrinsics.yml
    extrinsics:
      x: 0.25               # meters forward from robot center
      y: 0.0                # meters left from robot center
      z: 0.50               # meters up from floor
      roll: 0.0
      pitch: 0.0
      yaw: 0.0              # facing forward

  - name: left
    device: /dev/video2
    width: 640
    height: 480
    fps: 60                  # 60fps for highest performance
    exposure: -1
    gain: -1
    format: MJPG
    intrinsics: cam1_intrinsics.yml
    extrinsics:
      x: 0.0
      y: 0.20
      z: 0.50
      roll: 0.0
      pitch: 0.0
      yaw: 90.0             # facing left

  - name: right
    device: /dev/video4
    width: 640
    height: 480
    fps: 60                  # 60fps for highest performance
    exposure: -1
    gain: -1
    format: MJPG
    intrinsics: cam2_intrinsics.yml
    extrinsics:
      x: 0.0
      y: -0.20
      z: 0.50
      roll: 0.0
      pitch: 0.0
      yaw: -90.0            # facing right

# ==============================================================================
# AprilTag Detection Settings
# ==============================================================================
apriltag:
  family: tag36h11
  decimation: 2
  sigma: 0.0
  nthreads: 6                # RK3588S has 8 cores, use 6 for detection
  refine_edges: true
  max_hamming: 1
  min_margin: 15.0
  max_tags_per_frame: 16

# ==============================================================================
# Tracking Settings
# ==============================================================================
tracking:
  enable: true
  dropout_ms: 150
  filter_alpha: 0.3
  roi_enable: false
  velocity_decay: 0.9

# ==============================================================================
# Field Layout
# ==============================================================================
field:
  name: FRC 2026
  tag_size_m: 0.1651

# ==============================================================================
# Output Settings
# ==============================================================================
outputs:
  nt_enable: true
  nt_server: "10.58.5.2"
  nt_table_root: "/FRCVision"
  publish_rate_hz: 50
  web_port: 5800

# ==============================================================================
# Performance Tuning
# ==============================================================================
performance:
  jpeg_quality: 85             # Higher quality for clearer streams
  enable_annotations: true
  annotation_line_width: 2
